"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class User {
    constructor(cloudRequestor) {
        this.rest = cloudRequestor;
    }
    async data() {
        if (this.rest.cache.user === null) {
            await this.rest.getUserData();
            return this.data();
        }
        else {
            return this.rest.cache.user;
        }
    }
    async id() {
        if (this.rest.cache.user === null && !this.rest.tokenStore.cloudUser.userId) {
            await this.rest.getUserId();
            return this.id();
        }
        else {
            return this.rest.tokenStore.cloudUser.userId || this.rest.cache.user.id;
        }
    }
    async currentLocation() {
        let userId = await this.id();
        return this.rest.getCurrentLocation(userId);
    }
}
exports.User = User;
//# sourceMappingURL=user.js.map